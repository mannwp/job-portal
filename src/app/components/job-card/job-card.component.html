<div
  *ngIf="job"
  class="bg-card p-3 sm:p-4 rounded-lg border border-border shadow-sm cursor-pointer w-full"
  (click)="onCardClick($event)"
>
  <div class="relative">
    <img
      *ngIf="displayLogo"
      [src]="job.logo"
      alt="Company Logo"
      class="w-12 h-12 sm:w-16 sm:h-16 mb-3 sm:mb-4 bg-muted rounded"
    />
    <button
      *ngIf="showFavorite"
      (click)="toggleFavorite()"
      class="absolute cursor-pointer top-1 right-1 sm:top-2 sm:right-2 p-1 rounded-full hover:bg-muted"
      [class.text-red-500]="isFavorite"
    >
      <svg
        class="w-4 h-4 sm:w-5 sm:h-5"
        fill="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
        />
      </svg>
    </button>
  </div>
  <h3 class="text-base sm:text-lg font-semibold text-foreground">
    {{ job.title }}
  </h3>
  <p class="text-xs sm:text-sm text-muted-foreground">{{ job.company }}</p>
  <div
    *ngIf="displayDetails"
    class="flex gap-1 flex-wrap items-center text-xs text-muted-foreground mt-1"
  >
    <span
      class="border border-border rounded-full flex items-center py-0.5 sm:py-1 px-1.5 sm:px-2 gap-1"
    >
      <svg
        class="w-3 h-3 sm:w-4 sm:h-4"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
        ></path>
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"
        ></path>
      </svg>
      {{ job.location }}
    </span>
    <span
      class="border border-border rounded-full flex items-center py-0.5 sm:py-1 px-1.5 sm:px-2 gap-1"
    >
      <svg
        class="w-3 h-3 sm:w-4 sm:h-4"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"
        ></path>
      </svg>
      {{ job.experience }}
    </span>
    <span
      class="border border-border rounded-full flex items-center py-0.5 sm:py-1 px-1.5 sm:px-2 gap-1"
    >
      <svg
        class="w-3 h-3 sm:w-4 sm:h-4"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
        ></path>
      </svg>
      {{ job.postedDate | date : "mediumDate" }}
    </span>
  </div>
  <p
    *ngIf="displayDescription"
    class="text-sm sm:text-base text-foreground mt-2 line-clamp-2"
  >
    {{ job.description }}
  </p>
  <p
    *ngIf="displaySalary"
    class="text-xs sm:text-sm text-muted-foreground mt-2"
  >
    {{ job.salary }}
  </p>
  <div
    *ngIf="showActions"
    class="flex justify-end items-center mt-3 sm:mt-4 space-x-2"
  >
    <app-button
      (click)="applyForJob()"
      class="btn btn-primary px-2 sm:px-3 py-1 text-xs sm:text-sm"
      [disabled]="isApplied"
    >
      {{ isApplied ? "Applied" : "Apply Now" }}
    </app-button>
  </div>
  <ng-content></ng-content>
  <!-- For additional content in JobDetailComponent -->
</div>
